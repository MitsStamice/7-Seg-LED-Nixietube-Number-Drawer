# 7-Seg-LED-Nixietube-Number-Drawer
基于STM32F103C8T6的数字抽号器源代码，作为个人学习项目发布/Code of a number drawer based on STM32F103C8T6,publicized for the propose of study.

1.元器件清单
>STM32F103C8T6最小系统板        1件

>共阴七段数码管                 1个

>按动开关（非自锁型）            3个

>导线，跳线                     若干

2.接线图
由于接线较为简单，所以此处直接用文字表述。
单片机的PA0-PA6接口，分别接至七段数码管的a-g阳极，数码管的小数点端应悬空。
三个按动开关分别接至单片机的PB0,PB9,PB10接口并接地。
数码管与单片机的接地与电源略。

3.使用说明：
启动电路，会观察到数码管的数字直接开始跳动，按开发板上Reset按键重启即可。
分别定义接至PB0,PB9,PB10的按键为按键1，2，3，下同。
抽号器默认的抽号数字为0-9，若您想使用默认配置，可直接按动按键1开始抽号，数码管上的数字将按照从1-9的顺序开始快速跳动。再次按动按键1，抽号停止，得到一个数字。
抽号的过程可以重复进行。同时，在您开始抽号时，按键2，3均无效。
若您希望更改抽号的最大值，可以按动按键2进行更改。按动按键2后，数码管上显示的数字x就是下一次抽号会抽到的数字最大值（0-x）。在您选定您需要的x后，即可按动按键1开始抽号。
若您不希望抽号的结果中出现0，可以按动按键3进行更改。按动按键3后，抽号器将不会抽到0（0-x变成1-x）。再次按动按键3可恢复该配置。
在不去掉0的情况下，按键2选择最大数字的范围为1-9；在去掉0的情况下，按键2选择最大数字的范围为2-9。
为了避免bug出现，若您已经通过按键2选择抽号的最大数字为1后，再按动按键3去除0，此时抽号器的最大数字将会被自动置为2。

后记：本装置是米糍学习stm32单片机的过程中以学习为目的做的小实验，代码水平很差，写的也很乱，还请大家多多包涵啦。
Instruction in English will come soon if you like it.

原则上禁止用于任何盈利性用途。如需使用，请务必注明原作者名称。

米糍/Mits Stamice

email:1361393529@qq.com

2024.2.19
